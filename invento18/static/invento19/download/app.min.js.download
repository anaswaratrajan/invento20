!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function e(){var e=navigator.userAgent.toLowerCase(),t=navigator.appVersion.toLowerCase(),o=/windows phone|iemobile|wpdesktop/.test(e),n=!o&&/android.*mobile/.test(e),r=!o&&!n&&/android/i.test(e),s=n||r,a=!o&&/ip(hone|od|ad)/i.test(e)&&!window.MSStream,i=!o&&/ipad/i.test(e)&&a,l=r||i,u=n||a&&!i||o,c=u||l,d=e.indexOf("firefox")>-1,h=!!e.match(/version\/[\d\.]+.*safari/),w=e.indexOf("opr")>-1,f=!window.ActiveXObject&&"ActiveXObject"in window,y=t.indexOf("msie")>-1||f||t.indexOf("edge")>-1,m=e.indexOf("edge")>-1,g=null!==window.chrome&&void 0!==window.chrome&&"google inc."==navigator.vendor.toLowerCase()&&!w&&!m;this.infos={isDroid:s,isDroidPhone:n,isDroidTablet:r,isWindowsPhone:o,isIos:a,isIpad:i,isDevice:c,isEdge:m,isIE:y,isIE11:f,isPhone:u,isTablet:l,isFirefox:d,isSafari:h,isOpera:w,isChrome:g,isDesktop:!u&&!l},Object.keys(this.infos).forEach(function(e){Object.defineProperty(this,e,{get:function(){return this.infos[e]}})},this),Object.freeze(this)}function t(e,t){e.addClass?e.addClass(t):e.classList?e.classList.add(t):e.className+=" "+t}function o(e){return JSON.parse(JSON.stringify(e))}function n(e,t,o){return(e-t)/(o-t)}function r(e,t,o){return e<t?t:e>o?o:e}function s(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function a(){var e;Barba.BaseView.extend({namespace:"page-home",onEnter:function(){console.log("Page Home");var t=0,o=this.container,s=o.querySelector(".home__trophee .title__container"),a=o.querySelector(".projects .title__container"),i=o.querySelector(".projects__list");o.querySelector(".scroll__more").addEventListener("click",function(e){e.preventDefault();var t=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top-.2*window.outerHeight;TweenMax.to(window,1.2,{scrollTo:{y:t},ease:Power3.easeInOut})}),Array.from(o.querySelectorAll(".project__preview")).forEach(function(e){return new M(e)}),window.addEventListener("scroll",function(e){t=window.pageYOffset||document.documentElement.scrollTop});var l=new TimelineMax({paused:!0});l.to(s,1,{y:.2*window.outerHeight,ease:Power0.easeNone},0),l.to(s.querySelector(".shape--1 svg"),1,{y:150,ease:Power0.easeNone},0),l.to(s.querySelector(".shape--2 svg"),1,{y:-150,ease:Power0.easeNone},0),l.from(s.querySelector(".shape--3 svg"),1,{y:200,ease:Power0.easeNone},0),l.to(a,1,{y:.2*window.outerHeight,ease:Power0.easeNone},0),l.to(a.querySelector(".shape--1 svg"),1,{y:150,ease:Power0.easeNone},0),l.to(a.querySelector(".shape--2 svg"),1,{y:-150,ease:Power0.easeNone},0),l.from(a.querySelector(".shape--3 svg"),1,{y:200,ease:Power0.easeNone},0),e=function(){var e=r(n(t,0,window.outerHeight),0,1);l.progress(e)},TweenMax.ticker.addEventListener("tick",e,this,!0,1)},onLeaveCompleted:function(){TweenMax.ticker.removeEventListener("tick",e,this,!0,1)}}).init()}function i(){Barba.BaseView.extend({namespace:"page-project",onEnter:function(){console.log("Single Projet");var e=this.container,t=this.container.querySelector(".project__infos");document.querySelector("header").classList.add("light"),Array.from(e.querySelectorAll(".project__more__preview")).forEach(function(e){return new O(e)});if(t.addEventListener("mousemove",function(e){var o=e.pageX-e.currentTarget.getBoundingClientRect().left-e.currentTarget.offsetWidth/2,n=e.pageY-window.pageYOffset-e.currentTarget.getBoundingClientRect().top-e.currentTarget.offsetHeight/2;Array.from(t.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){var t=e.dataset.mouseParallax,r=o*t,s=n*t;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})}),t.addEventListener("mouseleave",function(e){Array.from(t.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){TweenMax.to(e,1.2,{x:0,y:0,skewX:0,skewY:0})})}),null!=e.querySelector(".collapse__judges")){var o=e.querySelector(".collapse__judges"),n=e.querySelector(".show__judges"),r=e.querySelector(".collapse__judges li").currentStyle||window.getComputedStyle(e.querySelector(".collapse__judges li")),s=parseInt(r.marginBottom)+e.querySelector(".collapse__judges li").clientHeight;TweenMax.set(o,{height:3*s}),n.addEventListener("click",function(t){t.preventDefault();var n=o.querySelector(".list__judges").clientHeight;if(o.classList.toggle("show--all"),o.classList.contains("show--all"))TweenMax.to(o,1.2,{height:n,ease:Power3.easeInOut});else{r=e.querySelector(".collapse__judges li").currentStyle||window.getComputedStyle(e.querySelector(".collapse__judges li")),s=parseInt(r.marginBottom)+e.querySelector(".collapse__judges li").clientHeight;var a=o.getBoundingClientRect().top-document.body.getBoundingClientRect().top-1.5*s;TweenMax.to(window,.8,{scrollTo:{y:a},ease:Power3.easeInOut}),TweenMax.to(o,.8,{height:3*s,ease:Power3.easeOut,delay:.4})}})}}}).init()}function l(){Barba.BaseView.extend({namespace:"page-awards",onEnter:function(){console.log("Page Awards");var e=this.container,t=e.querySelector(".page__intro"),o=e.querySelector(".award--shiny"),n=e.querySelector(".award--woty"),r=e.querySelector(".award--bic");document.querySelector("header").classList.add("light");var s=function(e){var t=e.pageX-e.currentTarget.getBoundingClientRect().left-e.currentTarget.offsetWidth/2,o=e.pageY-window.pageYOffset-e.currentTarget.getBoundingClientRect().top-e.currentTarget.offsetHeight/2;Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){var n=e.dataset.mouseParallax,r=t*n,s=o*n;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})},a=function(e){Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){TweenMax.to(e,1.2,{x:0,y:0,skewX:0,skewY:0})})};t.addEventListener("mousemove",s),t.addEventListener("mouseleave",a),o.addEventListener("mousemove",s),o.addEventListener("mouseleave",a),n.addEventListener("mousemove",s),n.addEventListener("mouseleave",a),r.addEventListener("mousemove",s),r.addEventListener("mouseleave",a)}}).init()}function u(){Barba.BaseView.extend({namespace:"page-credits",onEnter:function(){console.log("Page Credits");var e=this.container,t=e.querySelector(".page__intro"),o=e.querySelector(".collab--cssda .collab__logo"),n=e.querySelector(".collab--wkn .collab__logo");document.querySelector("header").classList.add("light");var r=function(e){var t=e.pageX-e.currentTarget.getBoundingClientRect().left-e.currentTarget.offsetWidth/2,o=e.pageY-window.pageYOffset-e.currentTarget.getBoundingClientRect().top-e.currentTarget.offsetHeight/2;Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){var n=e.dataset.mouseParallax,r=t*n,s=o*n;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})},s=function(e){Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){TweenMax.to(e,1.2,{x:0,y:0,skewX:0,skewY:0})})};t.addEventListener("mousemove",r),t.addEventListener("mouseleave",s),o.addEventListener("mousemove",r),o.addEventListener("mouseleave",s),n.addEventListener("mousemove",r),n.addEventListener("mouseleave",s)}}).init()}var c=function(e){if("string"!=typeof e)throw new TypeError("expected a string");return e=e.replace(/([a-z])([A-Z])/g,"$1-$2"),e=e.replace(/[ \t\W]/g,"-"),(e=e.replace(/^-+|-+$/g,"")).toLowerCase()},d=new e;e.prototype.addClasses=function(e){Object.keys(this.infos).forEach(function(o){this.infos[o]&&t(e,c(o))},this)},e.prototype.getInfos=function(){return o(this.infos)},function(){if("function"==typeof NodeList.prototype.forEach)return!1;NodeList.prototype.forEach=Array.prototype.forEach}();!function(){function e(e){this.value=e}function t(t){function o(r,s){try{var a=t[r](s),i=a.value;i instanceof e?Promise.resolve(i.value).then(function(e){o("next",e)},function(e){o("throw",e)}):n(a.done?"return":"normal",a.value)}catch(e){n("throw",e)}}function n(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?o(r.key,r.arg):s=null}var r,s;this._invoke=function(e,t){return new Promise(function(n,a){var i={key:e,arg:t,resolve:n,reject:a,next:null};s?s=s.next=i:(r=s=i,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var h,w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),y=function(){function e(t){var o=this;w(this,e),this.DOM={},this.DOM.el=t,this.DOM.svg=this.DOM.el.querySelector("svg"),this.DOM.img=this.DOM.el.querySelector(".item__img"),this.paths=[],this.DOM.svg.querySelectorAll("path").forEach(function(e){e.style.visibility="hidden",o.paths.push(e)}),this.DOM.firstPath=this.paths[Math.floor(Math.random()*this.paths.length)],this.DOM.firstPath.style.visibility="visible",this.randomiseInterval=s(2e3,15e3),this.initEvents()}return f(e,[{key:"initEvents",value:function(){var e=this;this.mouseenterFn=function(){e.mouseTimeout=setTimeout(function(){e.isActive=!0,e.animate()},75)},this.mouseleaveFn=function(){clearTimeout(e.mouseTimeout),e.isActive&&(e.isActive=!1,e.animate())},this.DOM.el.addEventListener("mouseenter",this.mouseenterFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn),this.DOM.el.addEventListener("touchstart",this.mouseenterFn),this.DOM.el.addEventListener("touchend",this.mouseleaveFn);var t=document.createEvent("MouseEvents");t.initMouseEvent("mouseenter",!1,!1,window,0,1,2,3,4,!1,!1,!1,!1,0,null),setInterval(function(o){e.DOM.el.dispatchEvent(t),e.randomiseInterval=s(2e3,15e3)},this.randomiseInterval)}},{key:"animate",value:function(){TweenMax.to(this.DOM.firstPath,.6,{morphSVG:this.paths[Math.floor(Math.random()*this.paths.length)],ease:Power3.easeOut}),TweenMax.to(this.DOM.img,.6,{scale:.5*Math.random()+1,ease:Power3.easeOut})}}]),e}(),m=function(){function e(t){w(this,e),this.DOM={},this.DOM.el=t,this.DOM.body=document.querySelector("body"),this.DOM.brand=this.DOM.el.querySelector(".brand"),this.DOM.toggle=this.DOM.el.querySelector(".toggle__menu"),this.DOM.menuContainer=document.querySelector(".menu__container"),this.DOM.by=this.DOM.menuContainer.querySelector(".by");new SplitText(this.DOM.by.querySelector(".txt"),{type:"chars"});this.DOM.byChars=this.DOM.by.querySelectorAll("div"),this.init()}return f(e,[{key:"init",value:function(){var e=this;window.addEventListener("scroll",function(t){var o=e.DOM.brand.offsetTop+e.DOM.brand.offsetHeight;if(document.querySelector(".home")){var n=document.querySelector(".projects").getBoundingClientRect().top,r=document.querySelector(".projects").getBoundingClientRect().top+document.querySelector(".projects").offsetHeight;n<o&&o<r?e.DOM.el.classList.contains("light")||e.DOM.el.classList.add("light"):e.DOM.el.classList.contains("light")&&e.DOM.el.classList.remove("light")}document.querySelector(".single__project")&&(document.querySelector(".project__judges").getBoundingClientRect().top>o?e.DOM.el.classList.contains("light")||e.DOM.el.classList.add("light"):e.DOM.el.classList.contains("light")&&e.DOM.el.classList.remove("light")),document.querySelector(".page__judges")&&(document.querySelector(".all__judges").getBoundingClientRect().top>o?e.DOM.el.classList.contains("light")||e.DOM.el.classList.add("light"):e.DOM.el.classList.contains("light")&&e.DOM.el.classList.remove("light"))});var t=function(t){var o=t.pageX-t.currentTarget.getBoundingClientRect().left-t.currentTarget.offsetWidth/2,n=t.pageY-window.pageYOffset-t.currentTarget.getBoundingClientRect().top-t.currentTarget.offsetHeight/2;Array.from(e.DOM.menuContainer.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){var t=e.dataset.mouseParallax,r=o*t,s=n*t;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})},o=new TimelineMax({paused:!0});o.staggerFrom(this.DOM.byChars,2,{y:-20,opacity:0,ease:Power3.easeOut},.03,0),o.staggerFrom(this.DOM.by.querySelectorAll("li"),3,{y:-10,opacity:0,ease:Power3.easeOut},.3,1),this.DOM.toggle.addEventListener("click",function(n){n.preventDefault(),e.DOM.body.classList.toggle("showMenu"),e.DOM.body.classList.contains("showMenu")?(e.DOM.menuContainer.addEventListener("mousemove",t),o.duration(2.5).restart(0)):e.DOM.menuContainer.removeEventListener("mousemove",t)}),Array.from(this.DOM.menuContainer.querySelectorAll(".shape")).forEach(function(e){return new y(e)})}}]),e}(),g=function(){function e(t){w(this,e),this.DOM={},this.DOM.el=t,this.DOM.container=this.DOM.el.querySelector(".container"),this.DOM.wave=this.DOM.el.querySelector(".wave"),this.DOM.by=this.DOM.el.querySelector(".by");new SplitText(this.DOM.by.querySelector(".txt"),{type:"chars"});this.DOM.byChars=this.DOM.by.querySelectorAll("div"),this.animate()}return f(e,[{key:"animate",value:function(){var e=0;window.addEventListener("scroll",function(t){e=window.pageYOffset||document.documentElement.scrollTop});var t=new TimelineMax({paused:!0});t.staggerFrom(this.DOM.byChars,2,{y:-20,opacity:0,ease:Power3.easeOut},.03,0),t.staggerFrom(this.DOM.by.querySelectorAll("li"),3,{y:-10,opacity:0,ease:Power3.easeOut},.3,1),inView.offset({top:20}),inView("footer .by").on("enter",function(e){t.duration(2).restart(0)});var o=new TimelineMax({paused:!0});o.from(this.DOM.container.querySelector(".copyright"),1,{y:-100,ease:Power0.easeNone},0),o.from(this.DOM.wave,1,{scaleY:.01,scaleX:.8,ease:Power0.easeNone},0),o.from(this.DOM.by,1,{y:-120,ease:Power0.easeNone},0),o.from(this.DOM.container.querySelector(".share"),1,{y:-100,ease:Power0.easeNone},0);TweenMax.ticker.addEventListener("tick",function(){var t=r(n(e,this.DOM.el.offsetTop-document.body.clientHeight,document.body.scrollHeight-document.body.clientHeight),0,1);o.progress(t)},this,!0,1)}}]),e}(),v=function(){function e(t){w(this,e),this.DOM={},this.DOM.el=t,this.DOM.shapes=t.querySelector(".intro__shapes"),this.DOM.year=t.querySelector(".year"),this.DOM.step1=t.querySelector(".step--1"),this.DOM.step2=t.querySelector(".step--2"),this.DOM.step3=t.querySelector(".step--3"),this.DOM.counterDays={score:365},this.DOM.numDays=this.DOM.step1.querySelector(".num span"),this.DOM.counterMonths={score:12},this.DOM.numMonths=this.DOM.step2.querySelector(".num span"),this.DOM.counterYear={score:1},this.DOM.numYear=this.DOM.step3.querySelector(".num span"),this.initEvents(),this.intro()}return f(e,[{key:"initEvents",value:function(){this.mouseMoveFn=function(e){var t=e.pageX-e.currentTarget.getBoundingClientRect().left-e.currentTarget.offsetWidth/2,o=e.pageY-window.pageYOffset-e.currentTarget.getBoundingClientRect().top-e.currentTarget.offsetHeight/2;Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){var n=e.dataset.mouseParallax,r=t*n,s=o*n;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})},this.mouseleaveFn=function(e){Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){TweenMax.to(e,1.2,{x:0,y:0,skewX:0,skewY:0})})},this.DOM.el.addEventListener("mousemove",this.mouseMoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}},{key:"intro",value:function(){var e=this,t=new TimelineMax({paused:!0});t.from(this.DOM.year,2.4,{opacity:0,scale:2,ease:Power3.easeOut},0),t.from(this.DOM.step1,2.4,{y:.7*window.innerHeight,ease:Power3.easeInOut},0),t.staggerFrom(this.DOM.step1.querySelectorAll("div > span + span"),2.4,{y:60,opacity:0,ease:Power3.easeInOut},.2,0),t.to(this.DOM.step1,2.4,{y:.5*-window.innerHeight,ease:Power3.easeInOut},4),t.from(this.DOM.step2,2.4,{y:.7*window.innerHeight,ease:Power3.easeInOut},4),t.staggerFrom(this.DOM.step2.querySelectorAll("div > span + span"),2.4,{y:60,opacity:0,ease:Power3.easeInOut},.2,4),t.to(this.DOM.step2,2.4,{y:.5*-window.innerHeight,ease:Power3.easeInOut},8),t.to(this.DOM.step1,2.4,{y:-window.innerHeight,ease:Power3.easeInOut},8),t.from(this.DOM.step3,2.4,{y:.7*window.innerHeight,ease:Power3.easeInOut},8),t.staggerFrom(this.DOM.step3.querySelectorAll("div > span + span"),2.4,{y:60,opacity:0,ease:Power3.easeInOut},.2,8),t.from(this.DOM.shapes,2.4,{y:.33*window.innerHeight,opacity:0,ease:Power3.easeInOut},0),t.to(this.DOM.shapes,2.4,{y:.33*-window.innerHeight,ease:Power3.easeInOut},4),t.to(this.DOM.shapes,2.4,{y:.66*-window.innerHeight,ease:Power3.easeInOut},8),t.from(this.DOM.counterDays,4,{score:"1000",roundProps:"score",onUpdate:function(t){e.DOM.numDays.innerHTML=e.DOM.counterDays.score},ease:Power4.easeOut},1),t.from(this.DOM.counterMonths,4,{score:"200",roundProps:"score",onUpdate:function(t){e.DOM.numMonths.innerHTML=e.DOM.counterMonths.score},ease:Power4.easeOut},5),t.from(this.DOM.counterYear,4,{score:"32",roundProps:"score",onUpdate:function(t){e.DOM.numYear.innerHTML=e.DOM.counterYear.score},ease:Power4.easeOut},9),t.add(function(e){document.querySelector("body").classList.remove("showIntro")},12),t.duration(10).restart(0)}}]),e}(),p=function(){function e(t){w(this,e),this.DOM={},this.DOM.el=t,this.mainClass=this.DOM.el.querySelector(".block__trophee").classList[1].toString(),this.initEvents()}return f(e,[{key:"initEvents",value:function(){var e=this;this.mouseMoveFn=function(t){var o=t.pageX-t.currentTarget.getBoundingClientRect().left-t.currentTarget.offsetWidth/2,n=t.pageY-window.pageYOffset-t.currentTarget.getBoundingClientRect().top-t.currentTarget.offsetHeight/2;Array.from(document.querySelectorAll("."+e.mainClass+" *[data-mouse-parallax]")).forEach(function(e){var t=e.dataset.mouseParallax,r=o*t,s=n*t;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})},this.mouseleaveFn=function(t){Array.from(document.querySelectorAll("."+e.mainClass+" *[data-mouse-parallax]")).forEach(function(e){TweenMax.to(e,1.2,{x:0,y:0,skewX:0,skewY:0})})},this.DOM.el.addEventListener("mousemove",this.mouseMoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}}]),e}(),M=function(){function e(t){w(this,e),this.DOM={},this.DOM.el=t,this.DOM.visual=this.DOM.el.querySelector(".project__visuel"),this.DOM.badge=this.DOM.el.querySelector(".badge"),this.DOM.visualImg=this.DOM.visual.querySelector(".visual"),this.DOM.visualShadow=this.DOM.el.querySelector(".project__visuel--shadow"),this.DOM.description=this.DOM.el.querySelector(".project__description"),this.DOM.judges=this.DOM.el.querySelector(".project__judges"),this.woty=this.DOM.el.parentNode.classList.contains("woty"),this.initEvents()}return f(e,[{key:"initEvents",value:function(){var e=this;this.mouseMoveFn=function(t){var o=.3*(t.pageX-t.currentTarget.getBoundingClientRect().left-t.currentTarget.offsetWidth/2),n=.3*(t.pageY-window.pageYOffset-t.currentTarget.getBoundingClientRect().top-t.currentTarget.offsetHeight/2),r=1;e.woty&&(r=.5),TweenMax.to(e.DOM.visual,1.2,{scale:.8,x:o,y:n,rotationY:.3*-n*r,rotationX:.3*-o*r,skewX:.3*-n*r,skewY:.3*-o*r,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualShadow,1.4,{scale:.8,x:50+o,y:50+n,rotationY:.25*-n,rotationX:.25*o,skewX:.25*n,skewY:.25*o,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualImg,1.4,{scale:1.1,ease:Power3.easeOut}),TweenMax.to(e.DOM.description,1.2,{scale:1.2,x:.3*o+50,y:.3*n-1.2*e.DOM.judges.offsetHeight,skewX:.01*n,skewY:.01*o,ease:Power3.easeOut}),e.DOM.badge&&TweenMax.to(e.DOM.badge,1.2,{scale:1.1,x:.3*o-20,y:.3*n,skewX:.01*n,skewY:.01*o,ease:Power3.easeOut})},this.mouseleaveFn=function(t){TweenMax.to(e.DOM.visual,.8,{scale:1,x:0,y:0,rotationY:0,rotationX:0,skewX:0,skewY:0,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualShadow,.8,{scale:.9,x:0,y:0,rotationY:0,rotationX:0,skewX:0,skewY:0,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualImg,.8,{scale:1,ease:Power3.easeOut}),TweenMax.to(e.DOM.description,.8,{scale:1,x:0,y:0,skewX:0,skewY:0,ease:Power3.easeOut}),e.DOM.badge&&TweenMax.to(e.DOM.badge,.8,{scale:1,x:0,y:0,skewX:0,skewY:0,ease:Power3.easeOut})},this.DOM.el.addEventListener("mousemove",this.mouseMoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}}]),e}(),O=function(){function e(t){w(this,e),this.DOM={},this.DOM.el=t,this.DOM.visual=this.DOM.el.querySelector(".project__visuel"),this.DOM.visualImg=this.DOM.visual.querySelector(".visual"),this.DOM.visualShadow=this.DOM.el.querySelector(".project__visuel--shadow"),this.DOM.infos=this.DOM.el.querySelector(".project__cat"),this.DOM.description=this.DOM.el.querySelector(".project__description"),this.initEvents()}return f(e,[{key:"initEvents",value:function(){var e=this;this.mouseMoveFn=function(t){var o=.3*(t.pageX-t.currentTarget.getBoundingClientRect().left-t.currentTarget.offsetWidth/2),n=.3*(t.pageY-window.pageYOffset-t.currentTarget.getBoundingClientRect().top-t.currentTarget.offsetHeight/2);TweenMax.to(e.DOM.visual,1.2,{scale:.8,x:o,y:n,rotationY:.3*-n,rotationX:.3*-o,skewX:.3*-n,skewY:.3*-o,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualShadow,1.4,{scale:.8,x:50+o,y:50+n,rotationY:.25*-n,rotationX:.25*o,skewX:.25*n,skewY:.25*o,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualImg,1.4,{scale:1.1,ease:Power3.easeOut}),TweenMax.to(e.DOM.infos,1.2,{scale:.8,x:o,y:n+20,ease:Power3.easeOut}),TweenMax.to(e.DOM.description,1.2,{scale:.8,x:o,y:n-40,ease:Power3.easeOut})},this.mouseleaveFn=function(t){TweenMax.to(e.DOM.visual,.8,{scale:1,x:0,y:0,rotationY:0,rotationX:0,skewX:0,skewY:0,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualShadow,.8,{scale:.8,x:0,y:0,rotationY:0,rotationX:0,skewX:0,skewY:0,ease:Power3.easeOut}),TweenMax.to(e.DOM.visualImg,.8,{scale:1,ease:Power3.easeOut}),TweenMax.to(e.DOM.infos,.8,{scale:1,x:0,y:0,skewX:0,skewY:0,ease:Power3.easeOut}),TweenMax.to(e.DOM.description,.8,{scale:1,x:0,y:0,skewX:0,skewY:0,ease:Power3.easeOut})},this.DOM.el.addEventListener("mousemove",this.mouseMoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}}]),e}(),D=0,x=!1,S=!1,T=document.querySelector("body"),q=document.querySelector(".pageLoader");new(function(){function e(){w(this,e),document.body.scrollTop=document.documentElement.scrollTop=0,console.log("%cCreated by Wokine, with ❤ and Barba.js.","color: #000; padding: 5px 0px 1px; border-bottom:2px solid #71d1c2;"),console.log("%chttp://wokine.com, http://barbajs.org/","color:#ccc"),x&&console.log("DEVMODE BIATCH"),this.init(),this.addEvents(),this.intro()}return f(e,[{key:"init",value:function(){var e=this;history.scrollRestoration="manual",window.scrollTo(0,0),FastClick.attach(document.body);new m(document.querySelector("header")),new g(document.querySelector("footer"));Array.from(q.querySelectorAll(".shape")).forEach(function(e){return new y(e)}),Barba.Dispatcher.on("newPageReady",function(t,o,n){var r=document.querySelector(".menu__container .nav .item-"+t.namespace);r&&r.classList.add("active"),Array.from(n.querySelectorAll(".shape")).forEach(function(e){return new y(e)}),Array.from(n.querySelectorAll(".title__container")).forEach(function(e){return new p(e)}),inView.offset({top:-100,bottom:-100}),inView(".reveal").on("enter",function(e){e.classList.add("in-view"),e.classList.remove("from-top")}).on("exit",function(e){e.classList.remove("in-view"),e.getBoundingClientRect().top<0&&e.classList.add("from-top")}),d.isPhone||e.initPrllx(n)}),Barba.Dispatcher.on("linkClicked",function(t,o){document.querySelector(".menu__container nav .active")&&document.querySelector(".menu__container nav .active").classList.remove("active"),TweenMax.ticker.removeEventListener("tick",h,e,!0,1)}),Barba.Dispatcher.on("initStateChange",function(){"function"==typeof ga&&ga("send","pageview",location.pathname)});var t=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.transitionOut()]).then(this.transitionIn.bind(this))},transitionOut:function(){var e=Barba.Utils.deferred();if(T.classList.contains("showMenu"))S=!0,e.resolve();else{var t=new TimelineMax({onComplete:function(){e.resolve()}});t.to(q,1.2,{y:"0%",visibility:"visible",ease:Power3.easeInOut},0),t.from(q.querySelector("img"),1,{y:800,ease:Power3.easeInOut},0),t.from(q.querySelector(".shape--1"),1,{y:800,ease:Power3.easeInOut},0),t.from(q.querySelector(".shape--2"),1,{y:600,ease:Power3.easeInOut},0),t.from(q.querySelector(".shape--3"),1,{y:700,ease:Power3.easeInOut},0)}return e.promise},transitionIn:function(){var e=this;if(this.oldContainer.style.display="none",this.newContainer.style.visibility="visible",window.scrollTo(0,0),S)T.classList.remove("showMenu"),S=!1,e.done();else{var t=new TimelineMax({delay:1,onComplete:function(){TweenMax.set(q,{y:"-100%",visibility:"hidden"}),TweenMax.set(q.querySelector("img"),{y:"-50%"}),TweenMax.set(q.querySelectorAll(".shape"),{y:0}),window.scrollTo(window.scrollX,window.scrollY-1),window.scrollTo(window.scrollX,window.scrollY+1),e.done()}});t.to(q,1.2,{y:"100%",ease:Power3.easeInOut},0),t.to(q.querySelector("img"),1,{y:-800,ease:Power3.easeInOut},0),t.to(q.querySelector(".shape--1"),1,{y:-800,ease:Power3.easeInOut},0),t.to(q.querySelector(".shape--2"),1,{y:-900,ease:Power3.easeInOut},0),t.to(q.querySelector(".shape--3"),1,{y:-700,ease:Power3.easeInOut},0)}}});Barba.Pjax.getTransition=function(){return t},a(),i(),l(),u(),Barba.Pjax.start()}},{key:"intro",value:function(){document.querySelector(".home")?imagesLoaded(document.querySelector(".intro"),function(e){if(x)TweenMax.set(q,{y:"-100%",visibility:"hidden"}),document.querySelector("body").classList.remove("is-loading"),document.querySelector("body").classList.remove("showIntro");else{TweenMax.set(q,{y:"-100%",visibility:"hidden"}),document.querySelector("body").classList.remove("is-loading");new v(document.querySelector(".intro"))}}):(document.querySelector("body").classList.remove("is-loading","showIntro"),TweenMax.to(q,1.2,{y:"100%",ease:Power3.easeInOut,delay:2,onComplete:function(){TweenMax.set(q,{y:"-100%",visibility:"hidden"})}}))}},{key:"addEvents",value:function(){window.addEventListener("scroll",function(e){D=window.pageYOffset||document.documentElement.scrollTop});q.addEventListener("mousemove",function(e){var t=e.pageX-e.currentTarget.getBoundingClientRect().left-e.currentTarget.offsetWidth/2,o=e.pageY-window.pageYOffset-e.currentTarget.getBoundingClientRect().top-e.currentTarget.offsetHeight/2;Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){var n=e.dataset.mouseParallax,r=t*n,s=o*n;e.dataset.mouseSkew?TweenMax.to(e,1.2,{x:r,y:s}):TweenMax.to(e,1.2,{x:r,y:s,skewX:.2*r,skewY:.2*r})})}),q.addEventListener("mouseleave",function(e){Array.from(e.currentTarget.querySelectorAll("*[data-mouse-parallax]")).forEach(function(e){TweenMax.to(e,1.2,{x:0,y:0,skewX:0,skewY:0})})})}},{key:"initPrllx",value:function(e){var t=[],o=Array.from(e.querySelectorAll("*[data-prllx]"));o.forEach(function(e){var o=new TimelineMax({paused:!0});TweenMax.set(e,{y:-1*e.dataset.prllx}),o.to(e,1,{y:e.dataset.prllx,ease:Power0.easeNone}),t.push(o)}),h=function(){o.forEach(function(e,o){var s=r(n(D,e.getBoundingClientRect().top+window.scrollY-window.innerHeight,e.getBoundingClientRect().top+window.scrollY+e.offsetHeight),0,1);t[o].progress(s)})},TweenMax.ticker.addEventListener("tick",h,this,!0,1)}}]),e}())});
//# sourceMappingURL=app.min.js.map
